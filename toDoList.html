<!doctype html>
<!--To Do List in Angular-->
<html>
<head>
  <style>
    .strike{
      text-decoration: line-through;
    }
  </style>
  <script src="angular.min.js"></script>
</head>


<body>
<div ng-app="myApp" ng-controller="myCtrl">
  <h1>My to do list:</h1>
  <p>To do:</p>
  <input ng-model="task" on-enter="submitTask()"/>
  <button ng-click="submitTask()">Submit</button>

  <p ng-repeat="task in tasks track by $index">
    <label ng-class="{strike:checked}">
      <input type="checkbox" ng-model="checked">{{task}}
    </label>
    <button ng-show="checked" ng-click="removeTask($index)">Remove {{$index}}</button>
  </p>
</div>

<script>
  var app = angular.module('myApp', []);

  app.controller('myCtrl', function ($scope) {
    $scope.task;
    $scope.tasks = [];
    $scope.submitTask = function () {
      $scope.tasks.push($scope.task);
      $scope.task = '';
    }
    $scope.removeTask = function (index) {
      $scope.tasks.splice(index, 1);
    }
  });

  app.directive('onEnter', function () {
    return function (scope, element, attrs) {

      element.bind("keydown keypress", function (event) {
        var keyCode = event.which || event.keyCode;

        // If enter key is pressed
        if (keyCode === 13) {
          scope.$apply(function () {
            // Evaluate the expression
            scope.$eval(attrs.onEnter);
          });
          event.preventDefault();
        }
      });
    };
  });
</script>

</body>
</html>
